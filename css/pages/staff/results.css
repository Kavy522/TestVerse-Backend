/* ================================================================
   STAFF RESULTS PAGE — Indigo & White Theme
   ================================================================ */

/* ── Shell & Sidebar (shared pattern) ──────────────────────────── */
.dashboard-layout { display:flex; min-height:100vh; background:#f8fafc; }

.sidebar {
    width:260px; background:#fff; border-right:1px solid #e2e8f0;
    display:flex; flex-direction:column;
    position:fixed; top:0; left:0; bottom:0; z-index:100;
    transition:transform .3s ease;
}
.sidebar-header {
    padding:1.5rem; border-bottom:1px solid #e2e8f0;
    display:flex; align-items:center; justify-content:space-between;
}
.logo { display:flex; align-items:center; gap:.75rem; font-size:1.25rem; font-weight:700; color:#6366f1; text-decoration:none; }
.logo i { font-size:1.5rem; }
.sidebar-toggle { display:none; background:none; border:none; font-size:1.125rem; color:#64748b; cursor:pointer; padding:.5rem; }
.sidebar-nav { flex:1; padding:1rem 0; overflow-y:auto; }
.nav-item {
    display:flex; align-items:center; gap:.75rem; padding:.75rem 1.5rem;
    color:#64748b; text-decoration:none; font-weight:500; font-size:.9375rem;
    transition:all .2s; border:none; background:none; width:100%; text-align:left; cursor:pointer; font-family:inherit;
}
.nav-item:hover  { background:#f8fafc; color:#6366f1; }
.nav-item.active { background:linear-gradient(to right,rgba(99,102,241,.1),transparent); color:#6366f1; border-right:3px solid #6366f1; font-weight:600; }
.nav-item i { font-size:1.125rem; width:20px; text-align:center; }
.sidebar-footer { padding:1rem; border-top:1px solid #e2e8f0; }
.user-card { display:flex; align-items:center; gap:.75rem; padding:.75rem; background:#f8fafc; border-radius:8px; margin-bottom:.75rem; }
.user-card-avatar { width:38px; height:38px; border-radius:50%; border:2px solid rgba(99,102,241,.3); object-fit:cover; }
.user-card-name { display:block; font-size:.875rem; font-weight:600; color:#1e293b; }
.user-card-role { display:block; font-size:.75rem; color:#6366f1; }
.logout-btn { color:#ef4444!important; }
.logout-btn:hover { background:rgba(239,68,68,.06)!important; }
.sidebar-overlay { display:none; position:fixed; inset:0; background:rgba(15,23,42,.4); z-index:99; }
.sidebar-overlay.show { display:block; }

/* ── Main ──────────────────────────────────────────────────────── */
.main-content { flex:1; margin-left:260px; min-height:100vh; display:flex; flex-direction:column; }

/* ── Topbar ────────────────────────────────────────────────────── */
.topbar {
    background:#fff; border-bottom:1px solid #e2e8f0;
    padding:0 2rem; height:64px;
    display:flex; align-items:center; justify-content:space-between;
    position:sticky; top:0; z-index:50;
}
.topbar-left, .topbar-right { display:flex; align-items:center; gap:1rem; }
.mobile-menu-toggle { display:none; background:none; border:none; font-size:1.5rem; color:#64748b; cursor:pointer; padding:.5rem; }
.breadcrumb { display:flex; align-items:center; gap:.5rem; }
.breadcrumb-item { font-size:.875rem; color:#64748b; }
.breadcrumb-item.active { font-weight:600; color:#1e293b; }
.breadcrumb-sep { font-size:.625rem; color:#cbd5e1; }
.user-menu { display:flex; align-items:center; gap:.75rem; }
.user-avatar { width:38px; height:38px; border-radius:50%; border:2px solid rgba(99,102,241,.25); object-fit:cover; }
.user-info .user-name { font-weight:600; color:#1e293b; font-size:.875rem; }
.user-info .user-role  { font-size:.75rem; color:#64748b; }

/* ── Page Content ──────────────────────────────────────────────── */
.page-content { flex:1; padding:1.75rem 2rem; display:flex; flex-direction:column; gap:1.5rem; }

/* ── Alert ─────────────────────────────────────────────────────── */
.alert { padding:.875rem 1rem; border-radius:8px; font-size:.9rem; font-weight:500; display:flex; align-items:flex-start; gap:.625rem; }
.alert-error   { background:#fef2f2; border:1px solid #fecaca; color:#b91c1c; }
.alert-success { background:#f0fdf4; border:1px solid #bbf7d0; color:#166534; }
.alert-info    { background:#eff6ff; border:1px solid #bfdbfe; color:#1d4ed8; }

/* ── Buttons ───────────────────────────────────────────────────── */
.btn {
    display:inline-flex; align-items:center; gap:.5rem;
    padding:.625rem 1.25rem; border-radius:8px;
    font-size:.9375rem; font-weight:600; cursor:pointer; border:none;
    transition:all .2s; white-space:nowrap; font-family:inherit;
}
.btn-sm    { padding:.4rem .875rem; font-size:.8375rem; }
.btn-full  { width:100%; justify-content:center; }
.btn-primary { background:#6366f1; color:#fff; box-shadow:0 2px 8px rgba(99,102,241,.3); }
.btn-primary:hover:not(:disabled) { background:#4f46e5; transform:translateY(-1px); }
.btn-outline { background:#fff; color:#64748b; border:1.5px solid #e2e8f0; }
.btn-outline:hover { border-color:#6366f1; color:#6366f1; }
.btn-publish { background:#0ea5e9; color:#fff; box-shadow:0 2px 8px rgba(14,165,233,.3); }
.btn-publish:hover:not(:disabled) { background:#0284c7; transform:translateY(-1px); }
.btn-publish:disabled { background:#94a3b8; box-shadow:none; cursor:not-allowed; }
.btn-grade { background:rgba(99,102,241,.08); color:#6366f1; border:1.5px solid rgba(99,102,241,.25); }
.btn-grade:hover { background:#6366f1; color:#fff; }
.btn:disabled { opacity:.55; cursor:not-allowed; transform:none!important; }
.hidden { display:none!important; }

/* ── Page Header ───────────────────────────────────────────────── */
.page-header { display:flex; align-items:flex-start; justify-content:space-between; gap:1rem; flex-wrap:wrap; }
.page-title { font-size:1.5rem; font-weight:700; color:#1e293b; margin:0 0 .25rem; display:flex; align-items:center; gap:.625rem; }
.page-title i { color:#6366f1; }
.page-subtitle { font-size:.9rem; color:#64748b; margin:0; }

/* ── Section Card ──────────────────────────────────────────────── */
.section-card { background:#fff; border:1px solid #e2e8f0; border-radius:14px; overflow:hidden; }
.section-card-header {
    padding:1.125rem 1.5rem; border-bottom:1px solid #f1f5f9;
    display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:.75rem;
    background:#fafbff;
}
.section-title { font-size:1rem; font-weight:700; color:#1e293b; margin:0; display:flex; align-items:center; gap:.5rem; }
.section-title i { color:#6366f1; font-size:.9375rem; }

.filter-tabs { display:flex; gap:.375rem; }
.filter-tab {
    padding:.35rem .875rem; border-radius:9999px;
    font-size:.8125rem; font-weight:600; border:1.5px solid #e2e8f0;
    background:#fff; color:#64748b; cursor:pointer; transition:all .2s; font-family:inherit;
}
.filter-tab:hover  { border-color:#6366f1; color:#6366f1; }
.filter-tab.active { background:#6366f1; color:#fff; border-color:#6366f1; }

/* ── Inline loading / empty ────────────────────────────────────── */
.inline-loading {
    display:flex; align-items:center; gap:.75rem;
    padding:2rem 1.5rem; color:#64748b; font-size:.9rem;
}
.spinner-sm {
    width:20px; height:20px; border:2.5px solid #e2e8f0;
    border-top-color:#6366f1; border-radius:50%;
    animation:spin .7s linear infinite; flex-shrink:0;
}
@keyframes spin { to { transform:rotate(360deg); } }
.inline-empty {
    display:flex; flex-direction:column; align-items:center;
    padding:3rem 1.5rem; gap:.625rem; color:#94a3b8; text-align:center;
}
.inline-empty i { font-size:2rem; color:#e2e8f0; }
.inline-empty p { margin:0; font-size:.9rem; }

/* ── Exam Grid ─────────────────────────────────────────────────── */
.exam-grid {
    display:grid; grid-template-columns:repeat(auto-fill, minmax(260px, 1fr));
    gap:1rem; padding:1.25rem 1.5rem;
}
.exam-card {
    border:2px solid #e2e8f0; border-radius:12px; padding:1.125rem;
    cursor:pointer; transition:all .2s; position:relative; background:#fff;
    display:flex; flex-direction:column; gap:.5rem;
}
.exam-card:hover { border-color:#6366f1; box-shadow:0 4px 20px rgba(99,102,241,.1); transform:translateY(-2px); }
.exam-card.selected { border-color:#6366f1; background:rgba(99,102,241,.03); }
.exam-card-badge {
    display:inline-flex; align-items:center; gap:.3rem;
    font-size:.7rem; font-weight:700; padding:.2rem .6rem; border-radius:9999px;
    text-transform:uppercase; letter-spacing:.04em; width:fit-content;
}
.badge-completed { background:rgba(16,185,129,.1); color:#059669; border:1px solid rgba(16,185,129,.2); }
.badge-published { background:rgba(14,165,233,.1); color:#0284c7; border:1px solid rgba(14,165,233,.2); }
.badge-draft     { background:rgba(100,116,139,.1); color:#64748b; border:1px solid #e2e8f0; }
.badge-live      { background:rgba(239,68,68,.1);  color:#dc2626; border:1px solid rgba(239,68,68,.2); }

.exam-card-title { font-size:.9375rem; font-weight:700; color:#1e293b; line-height:1.35; }
.exam-card-meta  { font-size:.78rem; color:#94a3b8; display:flex; flex-direction:column; gap:.2rem; }
.exam-card-meta span { display:flex; align-items:center; gap:.35rem; }
.exam-card-meta i { width:12px; color:#cbd5e1; }
.exam-card-footer {
    display:flex; align-items:center; justify-content:space-between;
    margin-top:.25rem; padding-top:.75rem; border-top:1px solid #f1f5f9;
}
.exam-card-stat  { font-size:.78rem; font-weight:600; color:#6366f1; }
.exam-card-arrow { color:#cbd5e1; font-size:.8rem; }

/* ── Results Panel ─────────────────────────────────────────────── */
.results-panel { display:flex; flex-direction:column; gap:1.25rem; }
.results-panel-header {
    display:flex; align-items:center; justify-content:space-between;
    gap:1rem; flex-wrap:wrap;
    background:#fff; border:1px solid #e2e8f0; border-radius:12px;
    padding:1.125rem 1.5rem;
}
.results-panel-header-left  { display:flex; align-items:center; gap:.875rem; flex-wrap:wrap; }
.results-panel-header-right { display:flex; align-items:center; gap:.75rem; }

.back-btn {
    display:flex; align-items:center; gap:.5rem;
    padding:.5rem .875rem; border-radius:8px;
    border:1.5px solid #e2e8f0; background:#fff; color:#64748b;
    font-size:.875rem; font-weight:600; cursor:pointer; font-family:inherit;
    transition:all .2s; white-space:nowrap;
}
.back-btn:hover { border-color:#6366f1; color:#6366f1; }

.selected-exam-info { display:flex; flex-direction:column; gap:.15rem; }
.selected-exam-title { font-size:1.0625rem; font-weight:700; color:#1e293b; }
.selected-exam-meta  { font-size:.8rem; color:#64748b; }

.publish-all-wrap { display:flex; flex-direction:column; align-items:flex-end; gap:.3rem; }
.publish-hint { font-size:.75rem; color:#94a3b8; font-style:italic; text-align:right; }
.publish-hint.ready { color:#059669; font-style:normal; font-weight:600; }

/* ── Results Stats ─────────────────────────────────────────────── */
.results-stats {
    display:grid; grid-template-columns:repeat(5,1fr); gap:.875rem;
}
.rstat {
    background:#fff; border:1px solid #e2e8f0; border-radius:10px;
    padding:.875rem 1rem; display:flex; align-items:center; gap:.75rem;
}
.rstat-icon {
    width:38px; height:38px; border-radius:9px;
    display:flex; align-items:center; justify-content:center;
    font-size:1rem; flex-shrink:0;
}
.rstat-icon.blue   { background:rgba(59,130,246,.1);  color:#3b82f6; }
.rstat-icon.green  { background:rgba(16,185,129,.1);  color:#059669; }
.rstat-icon.amber  { background:rgba(245,158,11,.1);  color:#d97706; }
.rstat-icon.purple { background:rgba(14,165,233,.1);  color:#0284c7; }
.rstat-icon.indigo { background:rgba(99,102,241,.1);  color:#6366f1; }
.rstat-body { display:flex; flex-direction:column; gap:.075rem; }
.rstat-val { font-size:1.375rem; font-weight:700; color:#1e293b; line-height:1; }
.rstat-lbl { font-size:.7rem; font-weight:600; color:#94a3b8; text-transform:uppercase; letter-spacing:.04em; }

/* ── Results Toolbar ───────────────────────────────────────────── */
.results-toolbar {
    display:flex; align-items:center; gap:.875rem; flex-wrap:wrap;
    background:#fff; border:1px solid #e2e8f0; border-radius:10px;
    padding:.875rem 1.25rem;
}
.search-box {
    display:flex; align-items:center; gap:.5rem;
    background:#f8fafc; border:1.5px solid #e2e8f0; border-radius:8px;
    padding:.5rem .875rem; flex:1; min-width:200px;
    transition:border-color .2s, box-shadow .2s;
}
.search-box:focus-within { border-color:#6366f1; box-shadow:0 0 0 3px rgba(99,102,241,.08); background:#fff; }
.search-box > i { color:#94a3b8; font-size:.875rem; }
.search-box input { flex:1; border:none; outline:none; background:transparent; font-size:.9rem; color:#1e293b; font-family:inherit; }
.search-box input::placeholder { color:#cbd5e1; }
.search-clear { background:none; border:none; color:#94a3b8; cursor:pointer; font-size:.8rem; padding:.125rem; }
.toolbar-filters { display:flex; gap:.625rem; flex-wrap:wrap; }
.toolbar-select {
    padding:.5rem .875rem; border-radius:8px; border:1.5px solid #e2e8f0;
    background:#fff; font-size:.875rem; color:#475569; cursor:pointer; outline:none;
    font-family:inherit; appearance:none;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%2394a3b8' d='M6 8L0 0h12z'/%3E%3C/svg%3E");
    background-repeat:no-repeat; background-position:right .75rem center; padding-right:2rem;
}
.toolbar-select:focus { border-color:#6366f1; }

/* ── Table ─────────────────────────────────────────────────────── */
.table-wrap { background:#fff; border:1px solid #e2e8f0; border-radius:12px; overflow:hidden; }
.table-loading, .table-empty {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    padding:4rem 2rem; gap:.875rem; text-align:center;
}
.spinner { width:38px; height:38px; border:3px solid #e2e8f0; border-top-color:#6366f1; border-radius:50%; animation:spin .8s linear infinite; }
.table-loading p { color:#64748b; font-size:.9375rem; margin:0; }
.empty-icon { width:56px; height:56px; border-radius:50%; background:rgba(99,102,241,.07); display:flex; align-items:center; justify-content:center; font-size:1.375rem; color:#6366f1; }
.table-empty h3 { font-size:1.0625rem; font-weight:700; color:#1e293b; margin:0; }
.table-empty p  { color:#64748b; margin:0; font-size:.875rem; }

.results-table { width:100%; border-collapse:collapse; }
.results-table thead tr { background:#f8fafc; border-bottom:2px solid #e2e8f0; }
.results-table th {
    padding:.75rem 1rem; text-align:left;
    font-size:.72rem; font-weight:700; color:#64748b;
    text-transform:uppercase; letter-spacing:.05em; white-space:nowrap;
}
.results-table th:last-child { text-align:right; padding-right:1.25rem; }
.results-table tbody tr { border-bottom:1px solid #f1f5f9; transition:background .15s; }
.results-table tbody tr:last-child { border-bottom:none; }
.results-table tbody tr:hover { background:#fafbff; }
.results-table td { padding:.875rem 1rem; font-size:.9rem; color:#475569; vertical-align:middle; }
.results-table td:last-child { text-align:right; padding-right:1.25rem; }

/* Student cell */
.student-cell { display:flex; align-items:center; gap:.75rem; }
.student-avatar { width:34px; height:34px; border-radius:50%; border:2px solid rgba(99,102,241,.2); object-fit:cover; flex-shrink:0; }
.student-cell-info { display:flex; flex-direction:column; }
.student-name  { font-weight:600; color:#1e293b; font-size:.9rem; }
.student-email { font-size:.775rem; color:#94a3b8; }

/* Marks cell */
.marks-wrap { display:flex; flex-direction:column; gap:.2rem; }
.marks-val  { font-weight:700; color:#1e293b; font-size:.9375rem; }
.marks-bar  { height:4px; border-radius:9999px; background:#f1f5f9; width:80px; overflow:hidden; }
.marks-fill { height:100%; border-radius:9999px; transition:width .4s; }
.marks-fill.pass { background:linear-gradient(to right,#6366f1,#22c55e); }
.marks-fill.fail { background:linear-gradient(to right,#f59e0b,#ef4444); }

/* Badges */
.status-badge, .grading-badge, .pub-badge {
    display:inline-flex; align-items:center; gap:.3rem;
    padding:.25rem .65rem; border-radius:9999px;
    font-size:.72rem; font-weight:700; text-transform:uppercase; letter-spacing:.04em;
}
.status-badge.pass   { background:rgba(16,185,129,.1);  color:#059669; border:1px solid rgba(16,185,129,.2); }
.status-badge.fail   { background:rgba(239,68,68,.1);   color:#dc2626; border:1px solid rgba(239,68,68,.2); }
.status-badge.pending{ background:rgba(245,158,11,.1);  color:#d97706; border:1px solid rgba(245,158,11,.2); }

.grading-badge.fully_graded      { background:rgba(16,185,129,.1);  color:#059669; border:1px solid rgba(16,185,129,.2); }
.grading-badge.partially_graded  { background:rgba(245,158,11,.1);  color:#d97706; border:1px solid rgba(245,158,11,.2); }
.grading-badge.pending           { background:rgba(100,116,139,.1); color:#64748b; border:1px solid #e2e8f0; }

.pub-badge.yes { background:rgba(14,165,233,.1);  color:#0284c7; border:1px solid rgba(14,165,233,.2); }
.pub-badge.no  { background:#f8fafc; color:#94a3b8; border:1px solid #e2e8f0; }

/* Row action buttons */
.row-actions { display:flex; align-items:center; justify-content:flex-end; gap:.375rem; }
.row-btn {
    display:inline-flex; align-items:center; gap:.375rem;
    padding:.35rem .75rem; border-radius:7px;
    font-size:.8rem; font-weight:600; cursor:pointer; border:1.5px solid #e2e8f0;
    background:#fff; color:#64748b; transition:all .2s; font-family:inherit;
    white-space:nowrap;
}
.row-btn.publish-single-btn,
.row-btn.publish-btn {
    background:rgba(14,165,233,.06);
    color:#0284c7;
    border-color:rgba(14,165,233,.3);
}
.row-btn.grade-btn:hover   { background:#6366f1; color:#fff; border-color:#6366f1; }
.row-btn.publish-single-btn:hover,
.row-btn.publish-btn:hover { background:#0ea5e9; color:#fff; border-color:#0ea5e9; }
.row-btn:disabled { opacity:.45; cursor:not-allowed; }

/* ── Grade Drawer ──────────────────────────────────────────────── */
.drawer-backdrop {
    display:none; position:fixed; inset:0;
    background:rgba(15,23,42,.35); z-index:200; backdrop-filter:blur(3px);
}
.drawer-backdrop.show { display:block; }

.grade-drawer {
    position:fixed; top:0; right:0; bottom:0; width:580px; max-width:100vw;
    background:#fff; border-left:1px solid #e2e8f0;
    display:flex; flex-direction:column; z-index:201;
    transform:translateX(100%);
    transition:transform .3s cubic-bezier(.4,0,.2,1);
    box-shadow:-8px 0 40px rgba(15,23,42,.12);
}
.grade-drawer.open { transform:translateX(0); }

.drawer-header {
    display:flex; align-items:center; justify-content:space-between;
    padding:1.25rem 1.5rem; border-bottom:1px solid #e2e8f0;
    background:#fafbff; flex-shrink:0;
}
.drawer-header-left { display:flex; align-items:center; gap:.875rem; }
.drawer-icon {
    width:40px; height:40px; border-radius:10px;
    background:rgba(99,102,241,.1); color:#6366f1;
    display:flex; align-items:center; justify-content:center; font-size:1rem; flex-shrink:0;
}
.drawer-title    { font-size:1.0625rem; font-weight:700; color:#1e293b; margin:0; }
.drawer-subtitle { font-size:.8rem; color:#64748b; margin:.1rem 0 0; }
.drawer-close {
    width:34px; height:34px; border-radius:7px; background:#f8fafc;
    border:1px solid #e2e8f0; color:#64748b; cursor:pointer;
    display:flex; align-items:center; justify-content:center; font-size:.9375rem; transition:all .2s;
}
.drawer-close:hover { background:#fee2e2; color:#ef4444; border-color:#fecaca; }

.drawer-fetch-loading {
    flex:1; display:flex; flex-direction:column; align-items:center;
    justify-content:center; gap:.875rem; padding:3rem;
}
.drawer-fetch-loading p { color:#64748b; font-size:.9rem; margin:0; }

.grade-drawer-body {
    flex:1; overflow-y:auto; padding:1.5rem;
    display:flex; flex-direction:column; gap:1.25rem;
}

/* Student card in drawer */
.grade-student-card {
    display:flex; align-items:center; gap:.875rem;
    padding:1rem 1.125rem; background:#f8fafc;
    border:1.5px solid #e2e8f0; border-radius:10px;
}
.grade-student-avatar { width:44px; height:44px; border-radius:50%; border:2px solid rgba(99,102,241,.2); object-fit:cover; flex-shrink:0; }
.grade-student-info { display:flex; flex-direction:column; gap:.15rem; flex:1; }
.grade-student-name  { font-weight:700; color:#1e293b; font-size:.9375rem; }
.grade-student-email { font-size:.8rem; color:#64748b; }
.grade-student-score { display:flex; align-items:baseline; gap:.2rem; flex-shrink:0; }
.score-current { font-size:1.5rem; font-weight:800; color:#6366f1; }
.score-sep     { font-size:1.125rem; color:#cbd5e1; }
.score-total   { font-size:1rem; font-weight:600; color:#94a3b8; }

/* MCQ summary */
.mcq-summary {
    display:flex; align-items:center; gap:.75rem;
    padding:.75rem 1rem; background:rgba(16,185,129,.05);
    border:1px solid rgba(16,185,129,.2); border-radius:9px;
    font-size:.875rem; color:#065f46;
}
.mcq-summary-icon { font-size:1.125rem; color:#059669; flex-shrink:0; }

/* Question card */
.question-card {
    border:1.5px solid #e2e8f0; border-radius:12px;
    overflow:hidden; transition:border-color .2s;
}
.question-card.needs-grading { border-color:rgba(245,158,11,.4); }
.question-card.graded        { border-color:rgba(16,185,129,.3); }
.question-card.mcq-auto      { border-color:rgba(99,102,241,.2); }

.qcard-header {
    padding:.875rem 1.125rem; background:#f8fafc;
    border-bottom:1px solid #f1f5f9;
    display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem;
}
.qcard-meta { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
.qcard-num  { font-size:.75rem; font-weight:700; color:#94a3b8; }
.qcard-type-badge {
    font-size:.68rem; font-weight:700; padding:.15rem .55rem; border-radius:9999px;
    text-transform:uppercase; letter-spacing:.04em;
}
.type-mcq         { background:rgba(99,102,241,.1);  color:#6366f1; }
.type-multiple_mcq{ background:rgba(139,92,246,.1);  color:#7c3aed; }
.type-descriptive { background:rgba(245,158,11,.1);  color:#d97706; }
.type-coding      { background:rgba(16,185,129,.1);  color:#059669; }
.qcard-points { font-size:.75rem; font-weight:700; color:#64748b; white-space:nowrap; }

.qcard-body { padding:1.125rem; display:flex; flex-direction:column; gap:.875rem; }
.qcard-question-text { font-size:.9rem; color:#1e293b; line-height:1.55; font-weight:500; }

/* Student answer */
.qcard-answer-label { font-size:.75rem; font-weight:700; color:#94a3b8; text-transform:uppercase; letter-spacing:.04em; margin-bottom:.35rem; display:block; }
.qcard-answer-text {
    padding:.75rem 1rem; background:#f8fafc;
    border:1px solid #e2e8f0; border-radius:8px;
    font-size:.875rem; color:#1e293b; line-height:1.6;
    white-space:pre-wrap; word-break:break-word;
}
.qcard-answer-code {
    padding:.875rem 1rem; background:#1e293b;
    border-radius:8px; font-family:ui-monospace,Consolas,monospace;
    font-size:.8125rem; color:#e2e8f0; line-height:1.65;
    white-space:pre-wrap; word-break:break-word; overflow-x:auto;
}
.qcard-answer-empty { color:#cbd5e1; font-style:italic; font-size:.875rem; padding:.5rem 0; }

/* MCQ result row */
.mcq-result-row {
    display:flex; align-items:center; gap:.625rem;
    font-size:.875rem; font-weight:600;
}
.mcq-result-row.correct { color:#059669; }
.mcq-result-row.wrong   { color:#dc2626; }
.mcq-result-row.skipped { color:#94a3b8; }
.mcq-result-row i       { font-size:1rem; }

/* Grading input row */
.grade-input-row {
    display:grid; grid-template-columns:1fr 2fr; gap:.875rem;
    align-items:start; padding:.875rem; background:#fffbeb;
    border:1px solid rgba(245,158,11,.2); border-radius:9px;
}
.grade-input-group { display:flex; flex-direction:column; gap:.35rem; }
.grade-input-label { font-size:.8rem; font-weight:700; color:#64748b; }
.grade-score-input {
    padding:.55rem .875rem; border:1.5px solid #e2e8f0; border-radius:8px;
    font-size:.9375rem; font-weight:700; color:#1e293b; background:#fff;
    outline:none; font-family:inherit; width:100%; box-sizing:border-box;
    transition:border-color .2s, box-shadow .2s;
}
.grade-score-input:focus { border-color:#6366f1; box-shadow:0 0 0 3px rgba(99,102,241,.1); }
.grade-feedback-input {
    padding:.625rem .875rem; border:1.5px solid #e2e8f0; border-radius:8px;
    font-size:.875rem; color:#1e293b; background:#fff;
    outline:none; resize:vertical; min-height:72px; font-family:inherit; width:100%; box-sizing:border-box;
    transition:border-color .2s;
}
.grade-feedback-input:focus { border-color:#6366f1; }
.grade-input-row.graded { background:rgba(16,185,129,.04); border-color:rgba(16,185,129,.2); }

/* Save all button */
.grade-save-all { padding-top:.5rem; }

/* ── Publish Modal ─────────────────────────────────────────────── */
.modal {
    display:none; position:fixed; inset:0; z-index:300;
    background:rgba(15,23,42,.45); backdrop-filter:blur(4px);
    align-items:center; justify-content:center; padding:1rem;
}
.modal.show { display:flex; }
.modal-dialog {
    background:#fff; border:1px solid #e2e8f0; border-radius:16px;
    width:100%; max-height:92vh; overflow-y:auto;
    box-shadow:0 20px 60px rgba(15,23,42,.18); animation:modal-in .2s ease;
}
@keyframes modal-in { from{opacity:0;transform:translateY(-12px) scale(.97)} to{opacity:1;transform:none} }
.modal-sm { max-width:440px; }
.modal-header {
    padding:1.25rem 1.5rem 1rem; border-bottom:1px solid #e2e8f0;
    display:flex; align-items:center; justify-content:space-between;
}
.modal-title { font-size:1.0625rem; font-weight:700; color:#1e293b; margin:0; display:flex; align-items:center; gap:.625rem; }
.modal-close { width:32px; height:32px; border-radius:6px; background:#f8fafc; border:1px solid #e2e8f0; color:#64748b; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:all .2s; }
.modal-close:hover { background:#fee2e2; color:#ef4444; border-color:#fecaca; }
.modal-body   { padding:1.5rem; }
.modal-footer { padding:1rem 1.5rem; border-top:1px solid #e2e8f0; display:flex; align-items:center; justify-content:flex-end; gap:.75rem; background:#f8fafc; border-radius:0 0 16px 16px; }
.info-box {
    display:flex; gap:.875rem; padding:1rem 1.125rem;
    background:#eff6ff; border:1px solid #bfdbfe; border-radius:10px;
}
.info-box > i { font-size:1.125rem; color:#3b82f6; flex-shrink:0; margin-top:.125rem; }
.info-box p   { margin:0; color:#1e293b; font-size:.9375rem; line-height:1.55; }

/* ── Responsive ────────────────────────────────────────────────── */
@media (max-width:1100px) { .results-stats { grid-template-columns:repeat(3,1fr); } }
@media (max-width:900px) {
    .sidebar { transform:translateX(-100%); }
    .sidebar.open { transform:translateX(0); box-shadow:4px 0 24px rgba(15,23,42,.12); }
    .main-content { margin-left:0; }
    .mobile-menu-toggle { display:flex; }
    .sidebar-toggle { display:flex; align-items:center; justify-content:center; }
    .grade-drawer { width:100vw; }
}
@media (max-width:768px) {
    .topbar { padding:0 1rem; }
    .page-content { padding:1.25rem 1rem; }
    .results-stats { grid-template-columns:repeat(2,1fr); }
    .exam-grid { grid-template-columns:1fr; padding:1rem; }
    .results-toolbar { flex-direction:column; }
    .search-box { min-width:100%; }
    .results-table th:nth-child(4),
    .results-table td:nth-child(4),
    .results-table th:nth-child(6),
    .results-table td:nth-child(6) { display:none; }
    .grade-input-row { grid-template-columns:1fr; }
    .user-info { display:none; }
}
@media (max-width:480px) {
    .results-stats  { grid-template-columns:1fr 1fr; }
    .results-panel-header { flex-direction:column; align-items:flex-start; }
}
